<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>6.3删除属性</title>
		<link rel="stylesheet" href="../../../globalBase.css">
	</head>
	<body>
		<dl>
			<dt>6.3删除属性</dt>
			<dd>delete运算符，可以删除对象的属性</dd>
			<dd>它的操作数应当是一个属性访问表达式，让人意外的是delete是断开属性和宿主对象的联系,而不会操作属性中的属性</dd>
			<dd>delete只能删除自有属性,不能删除继承属性(要删除继承属性必须从定义这个属性的原型对象上删除它，而且这会影响到所有继承自这个原型的对象)</dd>
			<dd>delete不能删除那些可配置性为false的属性(尽管可以删除不可扩展对象的可配置性,比如通过变量声明和函数声明创建的全局对象的属性 )</dd>
			<dd>严格模式中,删除一个不可配置属性会报一个类型错误.在非严格模式中操作会返回false</dd>
			<dd>在严格模式中delete 后跟随一个非法的操作数（比如a）,则会报语法错误,必须显式指定对象及其属性</dd>
		</dl>
	</body>
	<script type="text/javascript">
	'user static';
	console.info('------------------------------6.3删除属性------------------------------')
	var a={p:{x:1}};
	var b=a.p;
		console.info('delete a.p之前');
		console.info('a:',a);
		console.info('b:',b);
		console.info('delete a.p',delete a.p);
		console.info('delete尝试在删除一次 a.p看能不能删除后存不存在副作用',delete a.p,"证明delete后不是一个属性访问表达式,delete 同样返回true");
		console.info('delete a.p之后');
		console.info('a:',a);
		console.info('b:',b);
		console.info('b.x',b.x);
		console.info('javascript 的某些实现中,可能因为这种不严格严谨的代码而造成内存泄露因此需要先进行遍历属性在进行依次删除');


	console.info('------------------------------删除属性返回false的情况------------------------------')
		console.info('delete Object.prototype',delete Object.prototype);
		var x=1;
		console.info('delete this.x',delete this.x);
		function f(){}
		console.info('delete this.f',delete this.f);
 		
 		
 		console.info('this.a=2',this.a=2,'创建一个可配置的全局属性(没有用var)');
		console.info('delete a',delete a);
		console.info('delete this.a',delete this.a);

		console.info('------------------------------delete array------------------------------')
		var arr=[1,2,3,4,5];
		console.info('arr=[1,2,3,4,5]');
		console.info('delete arr[2]',delete arr[2]);
		console.info('arr',arr,'产生副作用额empty')
	</script>
</html>