<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>10.1正则表达式的定义</title>
		<link rel="stylesheet" href="../../../globalBase.css">
	</head>
	<body>
		<dl>
			<dt>10.1正则表达式的定义</dt>
			<dd>javascript中的正则表达式用RegExp对象表示,可以使用RegExp()构造函数来创建RegExp对象,不過RegExp對象更多的是通过一种特殊的直接量语法来创建</dd>
			<dd>正则表达式直接量定义为包含在一对斜杠/之间的字符</dd>

			<dt>RegExp直接量和对象的创建</dt>
			<dd>就像字符串和数字一样,程序中每个取值相同的原始类型直接量均表示相同的值</dd>
			<dd>正则表达式直接量则与此不同,一个正则表达式直接量会在执行到它时转换为一个RegExp对象,同一段代码所表示正则表达式直接量的每次运算都返回一个对象,而ecmascript5是会返回一个新对象</dd>
			<dd>正则表达式的模式是由一个字符序列组成的.包括所有的字母和数字在内,大多数的字符都是按照直接量仅描述带匹配的字符的</dd>

			<dt>10.1.1直接量字符</dt>
			<dd>正则表达式中所有字母和数字都是按照字面含义进行匹配的</dd>
			<dd>
				<table>
					<thead>
						<tr>
							<th>字符</th>
							<th>匹配</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>\o</td>
							<td>null字符</td>
						</tr>
						<tr>
							<td>\t</td>
							<td>制表符</td>
						</tr>
						<tr>
							<td>\n</td>
							<td>換行符</td>
						</tr>
						<tr>
							<td>\v</td>
							<td>垂直制表符</td>
						</tr>
						<tr>
							<td>\f</td>
							<td>换页符</td>
						</tr>
						<tr>
							<td>\r</td>
							<td>回车符</td>
						</tr>
						<tr>
							<td>\xnn</td>
							<td>十六进制nn指定拉丁字符</td>
						</tr>
						<tr>
							<td>\uxxxx</td>
							<td>十六进制数xxxx指定的unicode字符</td>
						</tr>
						<tr>
							<td>\cX</td>
							<td>控制字符^X</td>
						</tr>
						<tr>
							<td>^ & . * + ? = ! :| \ / () [] {}</td>
							<td>这些标点都存在特殊含义</td>
						</tr>
					</tbody>
				</table>
			</dd>

			<dt>10.1.2字符类</dt>
			<dd>将直接量字符单独放进方括号内就组成了字符类.一个字符类可以匹配它所包含的任意字符</dd>
			<dd>^符号来定义否定字符类,它匹配所有不包含在方括号内的字符</dd>
			<dd>-符号来定义连字符类,它匹配某个范围内的字母,数字</dd>
			<dd>
				<table>
					<thead>
						<tr>
							<th>字符</th>
							<th>匹配</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>[...]</td>
							<td>方括号内的任意字符</td>
						</tr>
						<tr>
							<td>[^...]</td>
							<td>不在方括号内的任意字符</td>
						</tr>
						<tr>
							<td>.</td>
							<td>除换行符和其他unicode行终止符之外的任意字符</td>
						</tr>
						<tr>
							<td>\w</td>
							<td>任何ascll字符組成的单词,等价于[a-zA-Z0-9]</td>
						</tr>
						<tr>
							<td>\W</td>
							<td>任何ascll字符組成的单词,等价于[^a-zA-Z0-9]</td>
						</tr>
						<tr>
							<td>\s</td>
							<td>任何Unicode空白字符</td>
						</tr>
						<tr>
							<td>\S</td>
							<td>任何非Unicode空白字符的字符,注意\w和\S不同</td>
						</tr>
						<tr>
							<td>\d</td>
							<td>任何ASCII数字,等价于[0-9]</td>
						</tr>
						<tr>
							<td>\D</td>
							<td>除了ASCII数字之外的任何字符,等价于[^0-9]</td>
						</tr>
						<tr>
							<td>[\b]</td>
							<td>退格直接量</td>
						</tr>
					</tbody>
				</table>
			</dd>


			<dt>10.1.3重复</dt>
			<dd>描述由三个字符和一个数字构建的字符串,正则表达语句中较为复杂的模式都提到了正则表达式中某元素的'重复出现次数'</dd>
			<dd>正则模式之后跟随用以指定字符重复标记</dd>
			<dd>+符号用以匹配前一个模的一个或多个副本</dd>
			<dd>
				<table>
					<thead>
						<tr>
							<th>字符</th>
							<th>含义</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>{n,m}</td>
							<td>匹配前一项至少n次,但不能超过m次</td>
						</tr>
						<tr>
							<td>{n,}</td>
							<td>匹配前一项至少n次或者更多次</td>
						</tr>
						<tr>
							<td>{n}</td>
							<td>匹配前一项至少n次</td>
						</tr>
						<tr>
							<td>?</td>
							<td>匹配前一项0次或者1次,也就是說前一項是可选的,定价于{0,1}</td>
						</tr>
						<tr>
							<td>+</td>
							<td>匹配前一项1次或多次,等价于{1,}</td>
						</tr>
						<tr>
							<td>*</td>
							<td>匹配前一项0次或多次,等价于{0,}</td>
						</tr>
					</tbody>
				</table>
			</dd>
			<dd>非贪婪的重复</dd>
			<dd>使用正则表达式进行非贪婪匹配。只须在待匹配的字符后跟随一个问号即可(??,+?,*?,{1,5}?)</dd>

			<dt>10.1.4选择,分组和引用</dt>
			<dd>正则表达式的语法还包括制定选择项,子表达式分组和引用前一子表达式的特殊字符</dd>
			<dd>选择:|符号用于分隔供选择的字符</dd>
			<dd>选择项的尝试匹配次序是从左到右,直到发现了匹配项.如果左边的选择项匹配,就会忽略右边的匹配项.即使它产生更好的匹配</dd>
			<dd>正则表达式中圆括号有多种作用.一个作用是把单独的项组合成子表达式,以便可以像处理一个独立的单元那样用|,*,+,?等来对单元内的项进行处理</dd>
			<dd>在正则表达式中,圆括号的另一个作用是在完整的模式中定义子模式.当一个正则表达式成功地和目标字符串相匹配时,可以从串中抽出和圆括号中的子模式相匹配的部分</dd>
			<dd>分组:带圆括号的表达式的另一个用途是允许在同一个正则表达式的后部引用前面的子表达式</dd>
			<dd>引用:对正则表达式中前一个子表达式的引用,并不是指对子表达式模式的引用,而指的是与那个模式相匹配的文本的引用</dd>

			<dt>10.1.5指定匹配位置</dt>
			<dd>正则表达式中的多个元素才能匹配字符串的一个字符</dd>
			<dd>\b匹配一个单词的边界,像\b这样的元素不匹配某个可见的字符,它们指定匹配发生的合法位置,这些元素为正则表达式的锚</dd>
			<dd>^它用来匹配字符串的开始,锚元素$用以匹配字符串的结束</dd>
			<dd>
				<table>
					<thead>
						<tr>
							<th>字符</th>
							<th>含义</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>^</td>
							<td>匹配字符串的开头,在多行检索中,匹配一行的开头</td>
						</tr>
						<tr>
							<td>$</td>
							<td>匹配字符串的结尾,在多行检索中,匹配一行的结尾</td>
						</tr>
						<tr>
							<td>\b</td>
							<td>匹配一个单词的边界,简言之,就是位于字符\w和\W之间的位置,或位于字符\w和字符串的开头或者结尾之间的位置</td>
						</tr>
						<tr>
							<td>\B</td>
							<td>匹配非单词边界的位置</td>
						</tr>
						<tr>
							<td>(?=p)</td>
							<td>零宽正向先行断言,要求接下来的字符都与p匹配,但不能包括匹配p的那些字符</td>
						</tr>
						<tr>
							<td>(?!p)</td>
							<td>零宽负向先行断言,要求接下来的字符不与p匹配</td>
						</tr>
					</tbody>
				</table>
			</dd>
			<dt>10.1.6修饰符</dt>
			<dd>正则表达式中的语法还有最后一个知识点,即正则表达式的修饰符,用以说明高级匹配模式的规则.</dd>
			<dd>出现在/之外的修饰符</dd>
			<dd>修饰符i用以说明模式匹配是不区分大小写的</dd>
			<dd>修饰符g说明匹配应该是全局的</dd>
			<dd>修饰符m说明多行模式中执行匹配,在这种模式下,如果待检索的字符串包含多行,那么^和$锚字符除了匹配整个字符串的开始和结尾之外还能匹配每行的开始和结尾</dd>
		</dl>
	</body>
	<script type="text/javascript">
	'user static';
	console.info('------------------------------10.1正则表达式的定义------------------------------');
	var pattern=/s$/;
	var pattern=new RegExp("s$");

	console.info('------------------------------FireFox3.6和FireFox 4+------------------------------');
	function getRE(){
		var re=/[a-z]/;
		re.foo="bar";
		return re;
	}
	var reg=getRE(),reg2=getRE();
	console.info('reg==reg2',reg==reg2);
	reg.foo="bazzz";
	console.info('reg.foo="bazzz"  reg2.foo:',reg2.foo,'reg.foo:',reg.foo);

	console.info('------------------------------10.1.3重复------------------------------');
	console.info('/\d{2,4}/ 匹配2~4个数字');
	console.info('/\w{3}\d/ 精确匹配三个单词和一个可选的数字');
	console.info('/\s+java\s+/ 匹配前后带有一个或多个空格的字符串"java"');
	console.info('/[^(]*/ 匹配一个或多个非左括号的字符');

	console.info('------------------------------10.1.4选择,分组和引用------------------------------');
	console.info('------------------------------选择------------------------------');
	console.info('/ab|cd|ef/ 代表可以匹配ab或cd或ef的字符串')
	console.info('/\d{3}|[a-z]{4}/ 匹配三位数字或者4位小写字母')
	console.info('------------------------------分组------------------------------');
	console.info('/java(script)?/ 可以匹配字符串java,其后可以有script也可以没有')
	console.info('(/[a-z]+(\d)/) 利用方法去匹配出用户输入的数字')
	console.info('/([Jj]ava([Ss]cript)?)\sis\s(fun\w*)/  \1引用的是对各带圆括号的子表达式 \3引用的是第三个带圆括号的子表达式')
	console.info('/([\'\"])[^\'\"]*\1/ 匹配左侧和右侧的引号匹配的是第一个带圆括号的子表达式所匹配的模式,左侧的引号必须和右侧的引号相匹配')

	console.info('------------------------------10.1.5修饰符------------------------------');
	console.info('/java$/im可以匹配Java\nis fun');
	</script>
</html>
