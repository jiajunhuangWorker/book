<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>6.6属性getter和setter</title>
		<link rel="stylesheet" href="../../../globalBase.css">
	</head>
	<body>
		<dl>
			<dt>6.6属性getter和setter</dt>
			<dd>对象属性是由名字,值和一组特性构成的</dd>
			<dd>属性可以用getter和setter来定义,getter和setter定义的属性称为存取器属性</dd>
			<dd>当程序查询存取器属性的值时,调用getter方法,这个方法返回值就是属性存取表达的值</dd>
			<dd>当程序设置一个存取器属性的值时js调用setter方法</dd>
			<dd>存储器属性不具有可写性,读取只写属性总是返回undifined</dd>
			<dd>存取器属性是可以继承的</dd>
		</dl>		
	</body>
	<script type="text/javascript">
	'user static';
	console.info('------------------------------6.6属性getter和setter------------------------------')
	var p={
		x:1.0,
		y:1.0,
		get r(){						
			return this.x*this.x+this.y*this.y;
		},
		set r(newValue){			
			var oldValue=this.x*this.x+this.y*this.y;			
			var ratio=newValue/oldValue;
			this.x*=ratio;
			this.y*=ratio;
		},
		get thera(){
			//atan2是表示x轴到点x，y之间的角度
			return this.y+this.x;
		}
	}
	console.info('对象p',p);
	console.info('对象p里面的方法',p.r);
	console.info('p.x=3',p.x=3,'p.thera',p.thera);
	var q=inherit(p);	
	q.x=2,q.y=3;
	console.log("get:q.r:"+q.r);	
	console.log("q.thera:"+q.thera);
	
	var random={
		get octet(){return Math.floor(Math.random()*256)},
		get uint16(){return Math.floor(Math.random()*65536)},
		get int16(){return Math.floor(Math.random()*65536-32768)}
	}
	</script>
</html>