<!DOCTYPE html>
	<html lang="en" id="html">
	<head>
		<meta charset="UTF-8">
		<title>第三章.类型、值和变量</title>
		<link rel="stylesheet" href="../../../globalBase.css">
	</head>
	<body>
		<dl>
			<dt>3.概括</dt>
			<dd>计算机程序运行需要对值,进行操作,在编程中能够表示操作的值称为数据类型(第一章又提到)</dd>
			<dd>变量是一个值得符号名称,通过名称获取引用</dd>
			<dd>null和undefined属于特殊原始值</dd>
			<dd>对象是键值对的</dd>
			<dd>特殊对象:global object</dd>
			<dd>普通的javascript对象是命名值得无序集合</dd>
			<dd>特殊对象函数,如果函数用来初始化使用new运算符我们称为构造函数</dd>
			<dd>构造函数定义了一类对象</dd>
			<dd>类可以看做事对象类型的子类型</dd>
			<dd>javascript可以自由的进行数据类型转换</dd>
			<dd>变量是无类型的var </dd>


			<dt>3.1数字</dt>
			<dd>javascript不区分整数和浮点,javscript所有数字都是浮点型,ieee 754标准定义的64位浮点格式(-2的53次方和2的53次方)</dd>

			<dt>3.1.1整形直接量</dt>
			<dd>十六进制</dd>
			<dd>0x或0X为前缀都是十六进制的直接量</dd>
			<dd>A~F在16进制中表示10~15</dd>
			<dd>八进制</dd>
			<dd>以数字0作为开头,在严格模式下禁止八进制直接量</dd>

			<dt>3.1.2浮点型直接量</dt>
			<dd>浮点型直接量可以含有小数,可以使用指数记数法表示浮点型直接量</dd>

			<dt>3.1.3javascriptzhong算术的运算</dt>
			<dd>算术运算符溢出,下溢,或被零整除不报错。会出现无穷大值 （正/负无穷大）</dd>
			<dd>NaN(no a number)它和任何值都不相等,包括自身</dd>
			
			<dt>3.1.4二进制浮点数和四舍五入错误</dt>
			<dd>精度问题</dd>
			<dt>3.1.5日期和时间</dt>			
			<dd>Date()构造函数,</dd>
			<dt>3.2文本</dt>
			<dd>字符串时一组由16位值组成的不可变得有序序列每个字符都是雷子unicode字符集</dd>
			<dt>3.2.1字符串直接量</dt>
			<dd>使用单引号或者双引号括住的内容是字符串直接量</dd>
			<dt>3.2.2转义符</dt>
			<dd>反斜杆：\</dd>
			<dt>3.2.3字符串使用</dt>
			<dd>连接符号 +</dd>
			<dt>3.2.4模式匹配</dt>
			<dd>RegExp()是强大的文本处理工具</dd>
			<dt>3.3布尔值</dt>
			<dd>布尔值通常用于JavaScript中控制结构中</dd>
			<dd>!==,==,&&,||,!</dd>
			<dt>3.4null和undifined</dt>
			<dt>3.5全局对象</dt>
			<dd>原始类型和原始值,对象类型-对象、数组和函数!</dd>
			<dd>全局属性:undefined,Infinity和NAN</dd>
			<dd>全局函数:isNaN(),parseInt(),eval(),in,等</dd>
			<dd>构造函数：Data(),RegExp(),String(),Object(),Array(),Number()</dd>
			<dd>全局对象:Math,JSON</dd>
			<dt>3.6包装对象</dt>
			<dd>javascript对象是一种复合值,它是属性或已命名的集合，存取字符串、数字或布尔值得属性时创建的临时对象称为包装对象</dd>
			<dt>3.7不可变得原始值和可变的对象引用</dt>
			<dd>原始值:undefined,null,boolean,number,string,object</dd>
			<dd>对象是可变的属性是可以发生改变的,两个相同属性以及相同的值他们是等的！因为索引值不同</dd>
			<dd>对象的比较都是引用的比较</dd>
			<dt>3.8类型转换</dt>
			<dd>隐式转换</dd>
			<dt>3.8.1转换和相等性</dt>
			<dt>3.8.2显式类型转换</dt>
			<dd>parseInt(nuumber),parseFloat(nuumber)</dd>
			<dt>对象转换原始值</dt>
			<dd>对象继承了toString()方法</dd>
			<dt>3.9声明变量</dt>
			<dd>var，传入值前是undifined</dd>
			<dt>3.10变量作用域</dt>
			<dt>3.10.2作为属性的变量</dt>
			<dt>3.10.3作为域链</dt>
			<dd>作用域链是一个对象列表或链表,这组对象定定义了这段代码作用域中的变量,通过属性查找值叫做变量解析</dd>
			<dd>javscript是基于词法作用域的语言,通过阅读包含变量定义在内的数行源码就知道变量作用域</dd>
		</dl>	
	</body>
	<script type="text/javascript">	
		/*全局对象*/
		var creatglobalObject='1222';
		console.log('creatglobalObject===window.creatglobalObject',creatglobalObject===window.creatglobalObject);
		/* 将16进制转10进制 */
		console.info('------------------------------3.1.1整形直接量------------------------------')//10*16+10 171
		console.info('0xaa:',0xaa,'result:10*16+10 171')//10*16+10 171
		console.info('0xab:',0Xab,'result:10*16+11 171')//10*16+11 171
		console.info('0xff:',0xff,'result:15*16+15 255')//15*16+15 255
		/*将8进制转10进制*/
		console.info('0377:',0377,'result:3*64+7*8+7')//3*64+7*8+7
		console.info('01:',01,'result:1')//1 1
		console.info('011:',011,'result:1+1*8 9')//9 1+1*8 9
		console.info('0111:',0111,'result:1+8*9')//73 1+8*9
		console.info('------------------------------math------------------------------')
		console.log('Math:',Math)
		console.info('Math.pow(2,3)//2的3次方:',Math.pow(2,3))
		console.info('Math.round(.4)//四舍五入:',Math.round(.4))
		console.info('Math.ceil(.4)//向上取整:',Math.ceil(.4))
		console.info('Math.floor(.7)//向下取整:',Math.floor(.7))
		console.info('Math.abs(-3)//绝对值:',Math.abs(-3))
		console.info('Math.max(a,b,c,d,e)//最大值:',Math.max(3,'44',55,22,'1999','1999.3'))//如果传入字符串返回NAN
		console.info('Math.min(a,b,c,d,e)//最小值:',Math.min(3,'44',55,22,'1999','1999.3'))
		console.info('Math.random()//0~1随机数:',Math.random())
		console.info('Math.PI//圆周率:',Math.PI)
		console.info('Math.E//自然对数的底数:',Math.E)
		console.info('Math.sqrt(9)//9的平方根:',Math.sqrt(9))
		console.info('Math.pow(9,1/3)//3的立方根:',Math.pow(9,1/3))
		console.info('Math.sin(0)//三角函数(Math.cos,Math.atan等):',Math.sin(0))
		console.info('Math.log(10)//10的自然对数:',Math.log(10))
		console.log('Math.log(100)/Math.LN10//以10为底100的对数:')
		console.info(Math.log(100)/Math.LN10)
		console.log('Math.log(512)/Math.LN2//以2为底数512的对数:')
		console.info(Math.log(512)/Math.LN2)
		console.info('Math.exp(3)//e的三次幂:',Math.exp(3))
		console.info('------------------------------number(3.1.2浮点型直接量)------------------------------')
		console.info('Number',Number);
		console.info('0/0:',0/0);
		console.info('1/0:',1/0);
		console.info('-1/0:',-1/0);
		console.log('Number.POSITIVE_INFINITY//只读:',Number.POSITIVE_INFINITY);
		console.log('Number.MAX_VALUE+1//只读:',Number.MAX_VALUE+1);
		console.log('Number.MIN_VALUE/2//发生下溢:',Number.MIN_VALUE/2);
		console.log('-Number.MIN_VALUE/2//负零:',-Number.MIN_VALUE/2);
		console.log('-1/Infinity//负零:',-1/Infinity);

		console.info('------------------------------method(3.1.3javascriptzhong算术的运算)------------------------------')
		console.info('isNaN(NaN)',isNaN(NaN));
		console.info('isNaN("666")',isNaN("666"));
		console.info('isNaN("我是中文")',isNaN("我是中文"));
		console.info('isFinite合法的数值返回true')
		console.info('isFinite("我是中文")',isFinite("我是中文"));
		console.info('isFinite("666")',isFinite("666"));
		console.info('isFinite("NaN")',isFinite(NaN));
		console.info('isFinite(Number.POSITIVE_INFINITY)',isFinite(Number.POSITIVE_INFINITY));
		console.info('isFinite(-Number.POSITIVE_INFINITY)',isFinite(-Number.POSITIVE_INFINITY));
		console.info('------------------------------精度验证(3.1.4二进制浮点数和四舍五入错误)------------------------------')
		console.info('.3-.2:',.3-.2);
		console.info('.4-.3:',.4-.3);
		console.log('.3-.2==.4-.3',.3-.2==.4-.3);
		console.info('------------------------------精度验证(3.1.5日期和时间)------------------------------')
		console.info('Date',Date);
		console.info('typeof:'+typeof new Date() ,'time:'+ new Date())
		console.info('1秒等于1000毫秒 计算毫秒差new Date(2018,11,18) - new Date(2018,11,17):',new Date(2018,11,18) - new Date(2018,11,17))
		console.info('获取年new Date().getFullYear():',new Date().getFullYear());
		console.info('获取月（1月是表示0）new Date().getMonth():',new Date().getMonth());
		console.info('计算几号:new Date().getDate()',new Date().getDate());
		console.info('计算星期几（星期天表示0）new Date().getDay():',new Date().getDay());
		console.info('计算时间:new Date().getHours()',new Date().getHours());
		console.info('计算UTC小时,基于时区:new Date().getUTCHours()',new Date().getUTCHours());
		console.info('------------------------------字符串(3.2.2转义符)------------------------------')
		console.info('版权符号:','\xA9');
		console.info('π：','\u03c0');
		console.info('NUL字符\o：','\o');
		console.info('退格符\b：','\b 222');
		console.info('水平制表符\t：','\t 2222');
		console.info('换行符\n：','\n 222');
		console.info('垂直制表符\v：','\v 222');
		console.info('换页符\f：','\f222');
		console.info('回车符\r：','\r222');
		console.info('双引号\u0022：','\u0022');
		console.info('撇号或单引号：','\u0027');
		console.info('反斜线：','\\');
		console.info('两位十六进制数XX指定的是Latin-1字符\x01(不能是中文只能是数字)：','\x01');
		console.info('由4位十六进制数XXXX代表unicode\u1111(不能是中文只能是数字)：','\x1111');
		console.info('------------------------------字符串(3.2.3字符串使用)------------------------------')
		console.info("'你好啊'.length",'你好啊'.length)
		console.info('nihaoa.chartAt(2)','nihaoa'.charAt(2))
		console.info("'nihaoa'.chartAt('nihaoa'.length-1)",'nihaoa'.charAt('nihaoa'.length-1))
		console.info("'nihaoa'.substring(1,3)//下标0开始计算末尾不包含值关系",'nihaoa'.substring(1,3))
		console.info("'nihaoa'.slice(1,3)//下标0开始计算末尾不包含值关系",'nihaoa'.slice(1,3))
		console.info("'nihaoa'.slice(-3)//最后三个字符串",'nihaoa'.slice(-3))
		console.info("'nihaoa'.indexOf('a')//匹配字符串中是否存在a字符，如果存在将返回非-1的小标值",'nihaoa'.indexOf('a'))
		console.info("'nihaoa'.lastindexOf('a')",'nihaoa'.lastIndexOf('a'))
		console.info("'nihaoa'.index('a',4)//从第四个字符开始寻找a",'nihaoa'.indexOf('a',4))
		console.info("'n，iha，o，a'.split(',')//按照规则进行分割成子字符串以数组返回",'n,iha,o,a'.split(','))
		console.info("'nihaoa'.replace('a','fuck')//返回一个新的字符串",'nihaoa'.replace('a','fuck'))
		console.info("'nihaoa'.toUpperCase()//返回一个新的字符串",'nihaoa'.toUpperCase())
		console.info('------------------------------正则表达式(3.2.4模式匹配)------------------------------')
		console.info('/^HTML/:匹配以html开始的字符串',/^HTML/)
		console.info('/[1-9][0-9]*/:匹配一个非0数字后面是任意个数字',/[1-9][0-9]*/)
		console.info('/\bjavascript\b/i:匹配单词"javascript"忽略大小写',/\bjavascript\b/i);
		var text='testing: 1,22,3,77';
		var pattern=/\d+/g //匹配所有包含一个或多个数字的实例
		console.info('pattern.test(text)//返回boolean类型',pattern.test(text));
		console.info('text.search(pattern)//返回number,首次匹配成功的下标位置',text.search(pattern));
		console.info('text.match(pattern)//返回array,所有符合的组成数组',text.match(pattern));
		console.info('text.replace(pattern,\'#\')//返回新的对象 替换符号',text.replace(pattern,'#'));
		console.info('text.split(/\D+/)//返回数组用非数字字符截取字符串',text.split(/\D+/));
		console.info('------------------------------正则表达式(3.4null和undefined)------------------------------')
		console.info('typeof undefined:',typeof undefined)
		console.info('typeof null:',typeof null)
		var str={};
		str.null=null;
		str.undefined=undefined;
		console.info(str)
		console.info('------------------------------全局对象(3.5全局对象)------------------------------')
		console.info('this',this)
		console.info('window',window)
		console.info('window==this//证明this引用了全局对象',window==this);
		console.info('------------------------------包装对象(3.6包装对象)------------------------------')
		console.info('"hellow!lucas".substring(1,5):',"hellow!lucas".substring(1,5));
		var str='test';
			console.log('str',str)
			str.len=4;
			console.log('str.len://因为临时字符串对象,并给其len属性赋值4,随即销毁这个临时对象',str.len)
		var getStr=str.len;
			console.log('getStr://通过原始的字符串值创建一个新字符串对象,尝试读取len属性,但是len不存在所以报undefined',getStr)
			var str='test',num=1,bool=true;
			console.log('typeof str//未包装后的字符串',typeof str);
			str=new String(str);
			console.log('typeof str //包装后的字符串',typeof str);
			num=new Number(num);
			bool=new Boolean(bool);
		console.info('------------------------------3.7不可变得原始值和可变的对象引用------------------------------')
			console.info('--原始值--');
		var str='lucas!hellow!'
			str.toUpperCase();
			console.info('str使用了toUpperCase方法！但是str 没变成大写证明原始数据类型没发生改变',str);
			console.info('--对象--');
			var val={x:1};
			val.x=2,val.y=3;
			var vals=[1,2,3];
			vals[0]=0;
			vals[3]=4;
			console.info('--索引值--');
			var array=[],array1=[];
			console.info('array===array1',array===array1);
			console.info('array==array1',array==array1);
			console.info('--更改引用值--');
			var a=[];
			var b=a;
			b[0]=666;
			console.info('a[0]',a[0]);
			console.info('a===b:',a===b);
			console.info(new Array())
			console.info('--copy Array--');
			var arrs=[2,43,1,2,44,55,66],arr01=[];
			for( i in arrs){
				if(typeof arrs[i] != 'function'){
					arr01.push(arrs[i]);
				}
			}
			console.info('null==undefined',null==undefined)
			console.info('"0"==0',"0"==0)
			console.info('false==0',"0"==false)
			console.info('false==0',0==false)
			console.info('------------------------------3.8.2显式类型转换------------------------------')
			var n=12345.678;
			console.info('n.toFixed(0)',n.toFixed(0))
			console.info('n.toFixed(2)',n.toFixed(2))
			console.info('n.toFixed(5)',n.toFixed(5))
			console.info('n.toExponential(3)',n.toExponential(3))
			console.info('n.toExponential(3)',n.toExponential(3))
			console.info('------------------------------3.8.3对象------------------------------')
			console.info('--toString()--');			
			console.log('{a:1,b:2,b:2}.toString()',{a:1,b:2}.toString());
			console.log('[2,35,334].toString()',[2,35,334].toString());
			console.log('(function(x){f(x);}).toString()',(function(x){f(x);}).toString());
			console.log('new Date().toString()',new Date().toString());
			console.info('--valueOf() 对象转为原始值--');
			console.info('new Date().valueOf()',new Date().valueOf())
			console.info('------------------------------3.10变量作用域------------------------------')
			console.info('--DemoOne-嵌套作用域--');			
			var a='global script';
			function check(){
				var a='global script check';
				function check02(){
					var a='global333 script222 check000003';
					return a;
				}
				return check02()
			}
			console.info(check());
			console.info('--DemoTwo-全局变量--');
			var global='val';
			function getVal(){
				global='localhost';
				myscope='localString';
				console.info('getVal:',[global,myscope]);
				return [global,myscope];
			}
			getVal();
			console.info('------------------------------3.10.1函数作用域和声明提前------------------------------')
			function test(o){
				var i=o;
				if(typeof o=='object'){
					var j=o;
					for(var k=0;k<10;k++){
						console.info('k:',k);
					}
					console.info('k:',k);
				}
				console.info('j:',j);
			}
			test(new Number(1));
	</script>	
</html>
