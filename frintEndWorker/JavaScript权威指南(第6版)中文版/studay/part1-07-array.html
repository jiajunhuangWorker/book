<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>第七章数组</title>
		<link rel="stylesheet" href="../../../globalBase.css">
	</head>
	<body>
		<dl>
			<dt>7数组</dt>
			<dd>数组是值的集的序集合,每个值叫做一个元素,而每个元素在数组中的位置称为索引值</dd>
			<dd>数组最大能容纳2的32次方 = 4294967295个元素</dd>
			<dd>数组元素的索引不一定要连续的,它们之间可以有空缺</dd>
			<dd>每个javascript数组都有一个length属性,针对非稀疏数组,该属性就是数组元素的个数</dd>
			<dd>用数字索引访问数组元素一般比访问常规对象属性要效率快</dd>
		
			<dt>7.1创建数组</dt>

			<dt>7.2数组元素的读和写</dt>
			<dd>使用[]操作符来访问数组中的一个元素</dd>

			<dt>7.3稀疏数组</dt>
			<dd>稀疏数组是就是包含从0开始的不连续索引的数组</dd>
			<dd>数组中的length属性值代表数组中元素的个数,如果数组是稀疏的,length属性值大于元素个数</dd>
			<dd>足够稀疏的数组通常在实现上比稠密的数组更慢,内存利用率跟更高,内存利用率更高,在这样的数组中查找元素的时间与常规对象属性的查找时间一样长</dd>
			<dd>当在数组直接量中省略值时不会创建稀疏数组</dd>
			<dd>省略的元素是undefined</dd>

			<dt>7.4数组长度</dt>
			<dd>当数组是稀疏数组,length属性值大于元素个数</dd>
			<dd>如果让一个数组元素不能配置,就不能删除它,如果不能删除它,length属性不能设置为小于不可配置元素的索引值</dd>

			<dt>7.5数组元素的添加和删除</dt>
			<dd>unshift:从队头添加元素,push从队尾添加元素,索引往前移动一位,length发生改变</dd>
			<dd>shift:从对头删除元素,pop:从队尾删除元素,索引往前移动一位,length发生改变</dd>
			<dd>对一个数组元素使用ddelete不会改变修改的length属性,也不会将元素从高索引处移下来填充已删除的留白元素,数组会变成稀疏数组</dd>
			
			<dt>7.6数组遍历</dt>
			<dd>for/in处理稀疏数组</dd>

			<dt>7.7多维数组</dt>
			<dd></dd>
		</dl>
	</body>
	<script type="text/javascript">
	'user static';
	var globalArray=[true,false,1,1.3,'你好啊',undefined,null,NaN,function numbers(){return 222},[1,2,3,4,5,6]];
	var globalObject={1:'测试一下','string':'测试一下2',false:'测试一下3',null:'测试一下4',undifined:'测试一下5',NaN:'测试一下6',suibian:'测试一下7'};
	console.info('------------------------------7数组------------------------------')
	console.info('Array.prototype',Array.prototype);
	console.info('Array 原型链展示',Object.getPrototypeOf(new Array()));
	console.info('Array 原型链展示',Object.getPrototypeOf({}));

	console.info('------------------------------7.1创建数组------------------------------')
	console.info('创建数组',[]);
	console.info('创建数组Object.create(Array.prototype)',Object.create(Array.prototype));
	console.info('创建数组new Array()',new Array());
	console.log('构造函数三种形式')
	console.info('创建数组new Array()',new Array());
	console.info('数组指定长度new Array(10)',new Array(10))
	console.info('数组指定长度new Array(10)',new Array(10,33,44,223,33))
	console.log('数组假设没有元素情况下')
	console.info('数组[1,,,,,true,]//元素间隔中是undifined替代',[1,,,,,true,])

	console.info('------------------------------7.2数组元素的读和写------------------------------')
	console.info('读取Array');
	console.info('读取最后一位元素globalArray[globalArray.length-1]',globalArray[globalArray.length-1]);
	console.info('写Array');
	console.info('读取数组',globalArray,'\n更改第一个元素globalArray[0]=1',globalArray[0]=1,'\n读取数组',globalArray,'总结当索引值里面的元素发生改变之后会影响全局元素');
	console.info('二维数组,globalArray[globalArray.length-1][2]:',globalArray[globalArray.length-1][2])
	for(id in globalObject){
		console.info('id in globalObject 想看看key是什么类型：typeof id\n//证明所有的key 都是字符串类型被隐式转换',typeof id)
	}
	console.info('查看方法体:globalArray[globalArray.length-2]',globalArray[globalArray.length-2]);

	console.info('------------------------------7.3稀疏数组------------------------------')
	var sparseArray=[,,,,2];
	var sparseArray2=[undefined];
	var sparseArray3=new Array(3);
	console.info('sparseArray=[,]','\n 0 in sparseArray:',0 in sparseArray);
	console.info('sparseArray2=[undefined]','\n 0 in sparseArray2:',0 in sparseArray2);	
	console.info('sparseArray3=new Array()','\n 0 in sparseArray3:',0 in sparseArray3);	
	console.info('for(element in sparseArray)')
	for(element in sparseArray){
		
		if(element ==='function') continue;
		console.info('element',sparseArray[element])
	}
	for(element in sparseArray3){
		
		if(element ==='function') continue;
		console.info('element',element)
	}

	console.info('------------------------------7.4数组长度------------------------------')
	console.info('全局数组',globalArray);
	console.info('[].length',[].length);
	console.info('["1","2","3"].length',["1","2","3"].length);
	//console.info('globalArray.length=3//这里限制了数组的显示长度',globalArray.length=3,'globalArray:',globalArray);
	//console.info('globalArray.length=0//索引受到影响',globalArray.length=0,'globalArray:',globalArray);
	//console.info('globalArray.length=5//索引受到影响',globalArray.length=3,'globalArray:',globalArray);
	// console.info('Object.defineProperty(globalArray,"length",{writable:false})//让数组的length属性变成只读',Object.defineProperty(globalArray,"length",{writable:false}))
	// console.info('globalArray.length=0',globalArray.length=0,'\n读取globalArray',globalArray)

	console.info('------------------------------7.5数组元素的添加和删除------------------------------');
	console.info('part1-07-array.html:97 Uncaught TypeError: Cannot assign to read only property length of object [object Array] at Array.push//line 94行锁定数组长度')
	console.info('add Elements');
	console.info('push:globalArray.push(1,true,false,"one"):',globalArray.push(1,true,false,"one"),'<返回字符串长度>\n read globalArray',globalArray,'\n push:在队尾添加Element');
	console.info('unshift:globalArray.unshift("I","love","pig")',globalArray.unshift("I","love","pig"),'<返回字符串长度>\n read globalArray',globalArray,'\n unshift:在队头添加Element');
	console.info('delete globalArray[4]',delete globalArray[4],'globalArray',globalArray,'变成empty','read delete element:',globalArray[4]);
	console.info('globalArray.pop()',globalArray.pop(),'read globalArray',globalArray);
	console.info('globalArray.shift()',globalArray.shift(),'read globalArray',globalArray);

	console.info('------------------------------7.6数组遍历------------------------------');
	console.info('for/in');
	for(i in globalArray){
		if(!globalArray.hasOwnProperty(i)) continue;//跳过继承属性
		if(typeof globalArray[i] ==='function') continue;//跳过继承属性
		console.info('!globalArray.hasOwnProperty(i)跳过继承属性',globalArray[i])
	}
	console.info('forEach')
	globalArray.forEach(function(value,index){
		console.info('值:',value,'	下标:',index)
	})

	console.info('------------------------------7.7多维数组------------------------------');
	</script>
</html>
